{"ast":null,"code":"import _regeneratorRuntime from \"/home/maximuss/news/news/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/maximuss/news/news/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/maximuss/news/news/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/maximuss/news/news/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/maximuss/news/news/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/maximuss/news/news/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/maximuss/news/news/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/maximuss/news/news/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/maximuss/news/news/client/src/container/Options.js\";\nimport React, { Component } from 'react';\nimport OptionForm from '../components/Options';\nimport { getUser, Authenticate, Deauthenticate } from '../utils/auth';\nimport { updateUser, deleteUser } from '../utils/requests';\n\nvar Options =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Options, _Component);\n\n  function Options(props) {\n    var _this;\n\n    _classCallCheck(this, Options);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Options).call(this, props));\n\n    _this.onGenderChange = function (number) {\n      _this.setState({\n        gender: number\n      });\n    };\n\n    _this.onImageClick = function () {\n      return document.getElementById('file-upload').click();\n    };\n\n    _this.state = {\n      name: '',\n      email: '',\n      password: '',\n      newPassword: '',\n      country: '',\n      age: 0,\n      gender: 0,\n      isLoading: false,\n      error: ''\n    };\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onNameChange = _this.onNameChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onEmailChange = _this.onEmailChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onPasswordChange = _this.onPasswordChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onNewPasswordChange = _this.onNewPasswordChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onAgeChange = _this.onAgeChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onGenderChange = _this.onGenderChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onCountryChange = _this.onCountryChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onDeleteClick = _this.onDeleteClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onImageClick = _this.onImageClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onFileInputChange = _this.onFileInputChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Options, [{\n    key: \"onSubmit\",\n    value: function () {\n      var _onSubmit = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        var user, _this$state, name, email, country, age, gender, password, newPassword, result, response;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return this.setState({\n                  isLoading: true\n                });\n\n              case 3:\n                user = getUser();\n                _this$state = this.state, name = _this$state.name, email = _this$state.email, country = _this$state.country, age = _this$state.age, gender = _this$state.gender, password = _this$state.password, newPassword = _this$state.newPassword;\n\n                if (!(user.name === name && user.email === email && user.country === country && user.age === age && +user.gender === gender && password === '')) {\n                  _context.next = 10;\n                  break;\n                }\n\n                this.setState({\n                  error: 'You did not change your account settings',\n                  isLoading: false\n                });\n                setTimeout(function () {\n                  return _this2.setState({\n                    error: ''\n                  });\n                }, 2000);\n                _context.next = 22;\n                break;\n\n              case 10:\n                result = {};\n                if (user.name !== name) result.name = name;\n                if (user.email !== email) result.email = email;\n                if (user.country !== country) result.country = country;\n                if (user.age !== age) result.age = age;\n                if (+user.gender !== gender) user.gender = gender;\n                if (password !== '') result.password = password;\n                if (newPassword !== '') result.newPassword = newPassword;\n                _context.next = 20;\n                return updateUser(result);\n\n              case 20:\n                response = _context.sent;\n\n                if (response.success) {\n                  Authenticate(response.token);\n                  this.props.history.push('/');\n                } else {\n                  this.setState({\n                    isLoading: false,\n                    error: response.message\n                  });\n                  setTimeout(function () {\n                    return _this2.setState({\n                      error: ''\n                    });\n                  }, 2000);\n                }\n\n              case 22:\n                _context.next = 27;\n                break;\n\n              case 24:\n                _context.prev = 24;\n                _context.t0 = _context[\"catch\"](0);\n                this.setState({\n                  error: _context.t0.message\n                });\n\n              case 27:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 24]]);\n      }));\n\n      function onSubmit() {\n        return _onSubmit.apply(this, arguments);\n      }\n\n      return onSubmit;\n    }()\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var user = getUser();\n      this.setState({\n        name: user.name,\n        email: user.email,\n        country: user.country,\n        age: user.age,\n        gender: +user.gender\n      });\n    }\n  }, {\n    key: \"onNameChange\",\n    value: function onNameChange(e) {\n      this.setState({\n        name: e.target.value\n      });\n    }\n  }, {\n    key: \"onEmailChange\",\n    value: function onEmailChange(e) {\n      this.setState({\n        email: e.target.value\n      });\n    }\n  }, {\n    key: \"onPasswordChange\",\n    value: function onPasswordChange(e) {\n      this.setState({\n        password: e.target.value\n      });\n    }\n  }, {\n    key: \"onNewPasswordChange\",\n    value: function onNewPasswordChange(e) {\n      this.setState({\n        newPassword: e.target.value\n      });\n    }\n  }, {\n    key: \"onAgeChange\",\n    value: function onAgeChange(e) {\n      this.setState({\n        age: e.target.value\n      });\n    }\n  }, {\n    key: \"onCountryChange\",\n    value: function onCountryChange(e) {\n      this.setState({\n        country: e.target.value\n      });\n    }\n  }, {\n    key: \"onFileInputChange\",\n    value: function onFileInputChange() {\n      setTimeout(function () {\n        return alert(JSON.stringify(document.getElementById('file-upload').files[0]));\n      }, 2000);\n    }\n  }, {\n    key: \"onDeleteClick\",\n    value: function () {\n      var _onDeleteClick = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var _this3 = this;\n\n        var response;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return this.setState({\n                  isLoading: true\n                });\n\n              case 3:\n                _context2.next = 5;\n                return deleteUser();\n\n              case 5:\n                response = _context2.sent;\n\n                if (response.success) {\n                  Deauthenticate();\n                  this.props.history.push('/login');\n                } else {\n                  this.setState({\n                    isLoading: false,\n                    error: 'Something goes wrong..'\n                  });\n                  setTimeout(function () {\n                    return _this3.setState({\n                      error: ''\n                    });\n                  }, 2000);\n                }\n\n                _context2.next = 12;\n                break;\n\n              case 9:\n                _context2.prev = 9;\n                _context2.t0 = _context2[\"catch\"](0);\n                this.setState({\n                  error: _context2.t0.message\n                });\n\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 9]]);\n      }));\n\n      function onDeleteClick() {\n        return _onDeleteClick.apply(this, arguments);\n      }\n\n      return onDeleteClick;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(OptionForm, {\n        password: this.state.password,\n        name: this.state.name,\n        email: this.state.email,\n        newPassword: this.state.newPassword,\n        country: this.state.country,\n        age: this.state.age,\n        gender: this.state.gender,\n        isLoading: this.state.isLoading,\n        error: this.state.error,\n        onSubmit: this.onSubmit,\n        onNameChange: this.onNameChange,\n        onEmailChange: this.onEmailChange,\n        onPasswordChange: this.onPasswordChange,\n        onNewPasswordChange: this.onNewPasswordChange,\n        onAgeChange: this.onAgeChange,\n        onCountryChange: this.onCountryChange,\n        onGenderChange: this.onGenderChange,\n        onDeleteClick: this.onDeleteClick,\n        onImageClick: this.onImageClick,\n        onFileInputChange: this.onFileInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Options;\n}(Component);\n\nexport default Options;","map":{"version":3,"sources":["/home/maximuss/news/news/client/src/container/Options.js"],"names":["React","Component","OptionForm","getUser","Authenticate","Deauthenticate","updateUser","deleteUser","Options","props","onGenderChange","number","setState","gender","onImageClick","document","getElementById","click","state","name","email","password","newPassword","country","age","isLoading","error","onSubmit","bind","onNameChange","onEmailChange","onPasswordChange","onNewPasswordChange","onAgeChange","onCountryChange","onDeleteClick","onFileInputChange","user","setTimeout","result","response","success","token","history","push","message","e","target","value","alert","JSON","stringify","files"],"mappings":"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","sourcesContent":["import React,{Component} from 'react'\nimport OptionForm from '../components/Options'\nimport {getUser,Authenticate,Deauthenticate} from '../utils/auth'\nimport {updateUser,deleteUser} from '../utils/requests'\n\nclass Options extends Component {\n   constructor (props) {\n     super(props)\n     this.state = {\n       name : '',\n       email : '',\n       password : '',\n       newPassword : '',\n       country : '',\n       age : 0,\n       gender : 0,\n       isLoading : false,\n       error : '',\n     }\n     this.onSubmit = this.onSubmit.bind(this)\n     this.onNameChange = this.onNameChange.bind(this)\n     this.onEmailChange = this.onEmailChange.bind(this)\n     this.onPasswordChange = this.onPasswordChange.bind(this)\n     this.onNewPasswordChange = this.onNewPasswordChange.bind(this)\n     this.onAgeChange = this.onAgeChange.bind(this)\n     this.onGenderChange = this.onGenderChange.bind(this)\n     this.onCountryChange = this.onCountryChange.bind(this)\n     this.onDeleteClick = this.onDeleteClick.bind(this)\n     this.onImageClick = this.onImageClick.bind(this)\n     this.onFileInputChange = this.onFileInputChange.bind(this)\n   }\n\n   async onSubmit() {\n     try {\n       await this.setState({\n         isLoading : true\n       })\n       const user = getUser()\n       const {name,email,country,age,gender,password,newPassword} = this.state\n       if(user.name === name && user.email === email && user.country === country\n         && user.age === age && +user.gender === gender && password === '') {\n         this.setState({\n           error : 'You did not change your account settings',\n           isLoading : false\n         })\n         setTimeout(() => this.setState({\n           error : ''\n         }),2000)\n       }\n       else {\n         let result = {}\n         if(user.name !== name) result.name = name\n         if(user.email !== email) result.email = email\n         if(user.country !== country) result.country = country\n         if(user.age !== age) result.age = age\n         if(+user.gender !== gender) user.gender = gender\n         if(password !== '') result.password = password\n         if(newPassword !== '') result.newPassword = newPassword\n         const response = await updateUser(result)\n         if(response.success) {\n           Authenticate(response.token)\n           this.props.history.push('/')\n         }\n         else {\n           this.setState({\n             isLoading : false,\n             error : response.message\n           })\n           setTimeout(() => this.setState({\n             error : ''\n           }),2000)\n         }\n       }\n\n     }\n     catch (e) {\n       this.setState({\n         error : e.message\n       })\n     }\n   }\n\n   componentDidMount() {\n     const user = getUser()\n     this.setState({\n       name : user.name,\n       email : user.email,\n       country : user.country,\n       age : user.age,\n       gender : +user.gender,\n     })\n   }\n\n   onNameChange(e) {\n     this.setState({\n       name : e.target.value\n     })\n   }\n\n  onEmailChange(e) {\n    this.setState({\n      email : e.target.value\n    })\n  }\n\n  onPasswordChange(e) {\n    this.setState({\n      password : e.target.value\n    })\n  }\n\n  onNewPasswordChange(e) {\n      this.setState({\n        newPassword: e.target.value\n      })\n  }\n\n  onAgeChange(e) {\n    this.setState({\n      age : e.target.value\n    })\n  }\n\n  onCountryChange(e) {\n    this.setState({\n      country : e.target.value\n    })\n  }\n\n  onGenderChange = number => {\n    this.setState({\n      gender : number\n    })\n  }\n\n  onImageClick = () => document.getElementById('file-upload').click()\n\n  onFileInputChange() {\n     setTimeout( () => alert(JSON.stringify(document.getElementById('file-upload').files[0])),2000)\n  }\n\n  async onDeleteClick() {\n    try {\n      await this.setState({\n        isLoading : true\n      })\n      const response = await deleteUser()\n      if(response.success) {\n         Deauthenticate()\n         this.props.history.push('/login')\n      }\n      else {\n        this.setState({\n          isLoading : false,\n          error : 'Something goes wrong..',\n        })\n        setTimeout(() => this.setState({\n            error : ''\n        }),2000)\n      }\n    }\n    catch (e) {\n      this.setState({\n        error : e.message\n      })\n    }\n  }\n\n  render () {\n    return (\n      <OptionForm password={this.state.password}\n                  name={this.state.name}\n                  email={this.state.email}\n                  newPassword={this.state.newPassword}\n                  country={this.state.country}\n                  age={this.state.age}\n                  gender={this.state.gender}\n                  isLoading={this.state.isLoading}\n                  error={this.state.error}\n                  onSubmit={this.onSubmit}\n                  onNameChange={this.onNameChange}\n                  onEmailChange={this.onEmailChange}\n                  onPasswordChange={this.onPasswordChange}\n                  onNewPasswordChange={this.onNewPasswordChange}\n                  onAgeChange={this.onAgeChange}\n                  onCountryChange={this.onCountryChange}\n                  onGenderChange={this.onGenderChange}\n                  onDeleteClick={this.onDeleteClick}\n                  onImageClick={this.onImageClick}\n                  onFileInputChange={this.onFileInputChange}/>\n    )\n  }\n}\n\nexport default Options"]},"metadata":{},"sourceType":"module"}